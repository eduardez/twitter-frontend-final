(this["webpackJsonptwitter-frontend-final"]=this["webpackJsonptwitter-frontend-final"]||[]).push([[0],{25:function(e,t,c){},32:function(e,t,c){},62:function(e,t,c){},80:function(e,t,c){},84:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c(2),a=c(19),i=c.n(a),r=c(45),j=c(11),o=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,115)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))},l=(c(52),c(10)),d=c(109),b=c(91),u=c(92),h=c(85),O=c(86),x=c(87),m=c(88),f=c(89),p=c(90),g=c(42),v=c(21),S={baseURL_API:"https://twitter-api-mern-edu.herokuapp.com/",clientID:"535029719934-ea1ci605hnukiq1a3qc0o30d7vqenvh3.apps.googleusercontent.com"};function y(e){return Object(n.jsxs)(h.a,{color:"primary",light:!0,expand:"md",children:[Object(n.jsxs)(O.a,{children:[Object(n.jsx)(g.a,{color:"white"}),Object(n.jsxs)("span",{className:"text-white",children:[Object(n.jsx)("strong",{children:" Usuario:"})," ",sessionStorage.getItem("name")]})]}),Object(n.jsx)(x.a,{navbar:!0,children:Object(n.jsxs)(m.a,{className:"ml-auto",navbar:!0,children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(p.a,{href:"#",onClick:function(){return e.onShow(1)},children:Object(n.jsx)("span",{className:"text-white",children:"Todos los Posts"})})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(p.a,{href:"#",onClick:function(){return e.onShow(2)},children:Object(n.jsx)("span",{className:"text-white",children:"Mis Posts"})})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(v.GoogleLogout,{clientId:S.clientID,buttonText:"Logout",theme:"dark",onLogoutSuccess:e.onLogout})})]})})]})}var I=c(6),k=c.n(I),N=(c(25),c(62),c(93)),C=c(94),M=(c(32),c(20)),_=c(43),w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],E=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function L(e){var t,c=Object(s.useState)(e.post.corazon),a=Object(l.a)(c,2),i=a[0],r=a[1],j=Object(s.useState)(!1),o=Object(l.a)(j,2),d=o[0],h=o[1],O=Object(s.useState)(!1),x=Object(l.a)(O,2),m=x[0],f=x[1],p=Object(s.useState)(e.post.retuit),g=Object(l.a)(p,2),v=g[0],S=g[1],y=function(e){document.getElementById(e).classList.toggle("activado"),e.includes("retuit")&&(m?(S(parseInt(v)-1),f(!1)):(S(parseInt(v)+1),f(!0))),e.includes("corazon")&&(d?(r(parseInt(i)-1),h(!1)):(r(parseInt(i)+1),h(!0)))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(N.a,{children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsxs)("strong",{children:[Object(n.jsx)("img",{src:e.post.image,alt:"Img"})," ",e.post.user]})})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{children:e.post.message})}),Object(n.jsx)(b.a,{children:Object(n.jsxs)("div",{className:"fila_atributos",children:[Object(n.jsxs)("div",{className:"fila_numeros",children:[Object(n.jsx)("div",{className:"elemento_atributo",children:Object(n.jsx)(_.a,{})}),Object(n.jsxs)("div",{className:"elemento_atributo retuit",id:"retuit_"+e.indice,onClick:function(){return y("retuit_"+e.indice)},children:[Object(n.jsx)(M.d,{}),Object(n.jsx)("small",{children:v})]}),Object(n.jsxs)("div",{className:"elemento_atributo corazon",id:"corazon_"+e.indice,onClick:function(){return y("corazon_"+e.indice)},children:[Object(n.jsx)(M.c,{}),Object(n.jsx)("small",{children:i})]})]}),Object(n.jsx)("div",{className:"fila_fecha",children:Object(n.jsx)("small",{children:(t=new Date(e.post.publicationdate),E[t.getDay()]+", "+t.getDate()+" "+w[t.getMonth()]+" "+t.getFullYear()+", "+("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2))})})]})})]})})})}),Object(n.jsx)("br",{})]})}var P=c(101),D=c(114),T=c(102),A=c(103),z=c(104),F=c(100),B=c(95),J=c(105),U=c(106),q=c(107),G=c(108),K=c(44),R=c.n(K).a.create({baseURL:S.baseURL_API});var W=c(96),H=c(97),Y=c(98),Q=c(99);function V(e){var t=Object(s.useState)(""),c=Object(l.a)(t,2),a=c[0],i=c[1],r=function(t){"OK"===t&&e.updateMyPosts()};return Object(n.jsx)("div",{children:Object(n.jsxs)(N.a,{body:!0,children:[Object(n.jsx)(B.a,{tag:"h5",children:"A\xf1adir un nuevo post"}),Object(n.jsxs)(W.a,{children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(Y.a,{for:"aMensaje",children:"Mensaje"}),Object(n.jsx)(Q.a,{style:{height:"200px"},type:"textarea",name:"message",value:a,id:"aMensaje",placeholder:"Introduce un mensaje",onChange:function(e){return i(e.target.value)}})]}),Object(n.jsx)(F.a,{color:"primary",onClick:function(e){e.preventDefault();var t=Math.floor(10*Math.random()+1),c=Math.floor(10*Math.random()+1);(function(e,t,c,n,s,a){return R.post("/posts",{email:e,user:t,image:s,retuit:c,corazon:n,message:a}).then((function(e){return e.data}))})(sessionStorage.getItem("email"),sessionStorage.getItem("name"),t,c,sessionStorage.getItem("image"),a).then((function(e){return r(e)}))},children:"A\xf1adir"})]})]})})}function X(e){var t=Object(s.useState)(e.post.message),c=Object(l.a)(t,2),a=c[0],i=c[1],r=function(t){"OK"===t&&e.updateMyPosts()};return Object(s.useEffect)((function(){i(e.post.message)}),[e.post]),Object(n.jsx)("div",{children:Object(n.jsxs)(N.a,{body:!0,children:[Object(n.jsx)(B.a,{tag:"h5",children:"Editar post"}),Object(n.jsxs)(W.a,{children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(Y.a,{for:"aDescripcion",children:"Mensaje"}),Object(n.jsx)(Q.a,{style:{height:"200px"},type:"textarea",name:"message",id:"aDescripcion",placeholder:"Introduce un mensaje",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(n.jsx)(F.a,{color:"primary",onClick:function(t){t.preventDefault(),function(e,t){return R.put("/posts/"+e,{message:t}).then((function(e){return e.data}))}(e.post._id,a).then((function(e){return r(e)}))},children:"Actualizar"})]})]})})}function Z(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)(Object(n.jsx)(P.a,{color:"warning",children:"Seleccione editar un post de la lista"})),j=Object(l.a)(r,2),o=j[0],d=j[1],h=Object(s.useState)("1"),O=Object(l.a)(h,2),x=O[0],g=O[1],v=Object(s.useState)(null),S=Object(l.a)(v,2),y=S[0],I=S[1],N=function(){var e;(e=sessionStorage.getItem("email"),R.get("/posts/all/"+e).then((function(e){return e.data}))).then((function(e){i(e)}))},C=function(e){x!==e&&g(e)},_=function(){N()},w=function(e){var t;(t=e._id,R.delete("/posts/"+t).then((function(e){return e.data}))).then((function(e){return E(e)}))},E=function(e){"OK"===e&&(I(null),d(Object(n.jsx)(P.a,{color:"warning",children:"Seleccione editar un post de la lista"})),_())};return Object(s.useEffect)((function(){N()}),[]),Object(n.jsxs)("div",{children:[y,Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(u.a,{xs:"7",children:[Object(n.jsx)(B.a,{tag:"center",children:Object(n.jsxs)(P.a,{color:"primary",children:[Object(n.jsx)("strong",{children:"Mis Posts publicados "}),Object(n.jsx)(J.a,{pill:!0,children:a.length})]})}),Object(n.jsx)(U.a,{children:Object(n.jsx)("tbody",{children:a.map((function(t,c){return Object(n.jsxs)("div",{className:"edit_card_body",children:[Object(n.jsxs)("div",{className:"edit_buttons",children:[Object(n.jsx)(F.a,{outline:!0,onClick:function(){return function(e){g("2"),d(Object(n.jsx)(X,{post:e,updateMyPosts:_}))}(t)},children:Object(n.jsx)(M.b,{})})," ",Object(n.jsx)(F.a,{outline:!0,onClick:function(){return function(t){I(Object(n.jsxs)(D.a,{isOpen:"true",className:e.className,children:[Object(n.jsx)(T.a,{children:"Eliminar post"}),Object(n.jsxs)(A.a,{children:["Se va a eliminar el post:",Object(n.jsx)("br",{}),Object(n.jsx)("small",{children:Object(n.jsx)("strong",{children:t.message})})]}),Object(n.jsxs)(z.a,{children:[Object(n.jsx)(F.a,{color:"primary",onClick:function(){return w(t)},children:"Eliminar"})," ",Object(n.jsx)(F.a,{color:"secondary",onClick:function(){return I(null)},children:"Cancelar"})]})]}))}(t)},children:Object(n.jsx)(M.a,{})})]}),Object(n.jsx)(L,{post:t,indice:c})]})}))})})]}),Object(n.jsxs)(u.a,{xs:"5",children:[Object(n.jsxs)(m.a,{tabs:!0,children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(p.a,{href:"#",className:k()({active:"1"===x}),onClick:function(){return C("1")},children:"A\xf1adir"})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(p.a,{href:"#",className:k()({active:"2"===x}),onClick:function(){return C("2")},children:"Editar"})})]}),Object(n.jsxs)(q.a,{activeTab:x,children:[Object(n.jsx)(G.a,{tabId:"1",children:Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{sm:"12",children:Object(n.jsx)(V,{updateMyPosts:_})})})}),Object(n.jsx)(G.a,{tabId:"2",children:Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{sm:"12",children:o})})})]})]})]})]})}function $(e){var t=Object(s.useState)([]),c=Object(l.a)(t,2),a=c[0],i=c[1],r=function(){R.get("/posts").then((function(e){return e.data})).then((function(e){i(e)}))};return Object(s.useEffect)((function(){r()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(B.a,{tag:"center",children:Object(n.jsxs)(P.a,{color:"primary",children:[Object(n.jsx)("strong",{children:"Posts publicados "}),Object(n.jsx)(J.a,{pill:!0,children:a.length})]})}),Object(n.jsx)(U.a,{children:Object(n.jsx)("tbody",{children:a.map((function(e,t){return Object(n.jsx)(L,{post:e,indice:t})}))})})]})}var ee=c(110),te=c(111),ce=c(112),ne=c(113),se=(c(80),c.p+"static/media/icon.b080bea3.ico"),ae={maxWidth:"85px"};i.a.render(Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",component:function(e){var t=Object(s.useState)(null),c=Object(l.a)(t,2),a=c[0],i=c[1],r=Object(s.useState)(null),j=Object(l.a)(r,2),o=j[0],x=j[1],p=Object(s.useState)(!1),g=Object(l.a)(p,2),y=g[0],I=g[1],k=function(){window.setTimeout((function(){I(!1)}),3e3)};return Object(n.jsxs)(d.a,{children:[Object(n.jsxs)(ee.a,{className:"react_toast",isOpen:y,children:[Object(n.jsx)(te.a,{icon:o,children:"El Tuiter"}),Object(n.jsxs)(ce.a,{children:[Object(n.jsx)("p",{children:a}),Object(n.jsx)(F.a,{outline:!0,onClick:function(){I(!1)},size:"sm",children:"Ok"})]})]}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsxs)(h.a,{color:"primary",light:!0,expand:"md",children:[Object(n.jsx)(ne.a,{style:ae,object:!0,src:se,alt:"Bird"}),Object(n.jsx)(O.a,{children:Object(n.jsx)("span",{className:"app_title",children:" El Tuiter "})}),Object(n.jsx)(m.a,{navbar:!0,children:Object(n.jsx)(f.a,{children:Object(n.jsx)(v.GoogleLogin,{clientId:S.clientID,buttonText:"Login with Google",theme:"dark",onSuccess:function(t){var c=t.getBasicProfile();sessionStorage.setItem("name",c.getName()),sessionStorage.setItem("email",c.getEmail()),sessionStorage.setItem("image",c.getImageUrl()),e.history.push("/home"),I(!0),x("success"),i("Autenticado correctamente."),k()},onFailure:function(e){I(!0),x("danger"),i("Error en la autenticacion."),k()}})})})]})})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{xs:"12",children:Object(n.jsx)($,{})})})]})}}),Object(n.jsx)(j.a,{path:"/home",component:function(e){var t=Object(s.useState)(Object(n.jsx)($,{})),c=Object(l.a)(t,2),a=c[0],i=c[1];if(null!==sessionStorage.getItem("name"))return Object(n.jsxs)(d.a,{children:[Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{children:Object(n.jsx)(y,{onLogout:function(){sessionStorage.clear(),e.history.push("/")},onShow:function(e){1===e?i(Object(n.jsx)($,{})):2===e&&i(Object(n.jsx)(Z,{}))}})})}),Object(n.jsx)(b.a,{children:Object(n.jsx)(u.a,{xs:"12",children:a})})]});e.history.push("/")}})]})}),document.getElementById("root")),o()}},[[84,1,2]]]);
//# sourceMappingURL=main.d1788970.chunk.js.map