(this["webpackJsonptwitter-frontend-final"]=this["webpackJsonptwitter-frontend-final"]||[]).push([[0],{33:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c(3),a=c(19),j=c.n(a),i=c(44),r=c(10),l=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,111)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,j=t.getTTFB;c(e),n(e),s(e),a(e),j(e)}))},o=(c(51),c(11)),b=c(108),d=c(101),h=c(102),x=c(84),O=c(85),u=c(86),g=c(87),m=c(88),f=c(89),p=c(21),v=c(23),S={baseURL_API:"https://twitter-api-mern-edu.herokuapp.com/",clientID:"535029719934-ea1ci605hnukiq1a3qc0o30d7vqenvh3.apps.googleusercontent.com"};function y(e){return Object(n.jsxs)(x.a,{color:"primary",light:!0,expand:"md",children:[Object(n.jsxs)(O.a,{children:[Object(n.jsx)(p.a,{color:"white"}),Object(n.jsxs)("span",{className:"text-white",children:[Object(n.jsx)("strong",{children:" Dashboard:"})," ",sessionStorage.getItem("name")]})]}),Object(n.jsx)(u.a,{navbar:!0,children:Object(n.jsxs)(g.a,{className:"ml-auto",navbar:!0,children:[Object(n.jsx)(m.a,{children:Object(n.jsx)(f.a,{href:"#",onClick:function(){return e.onShow(1)},children:Object(n.jsx)("span",{className:"text-white",children:"Todos los Posts"})})}),Object(n.jsx)(m.a,{children:Object(n.jsx)(f.a,{href:"#",onClick:function(){return e.onShow(2)},children:Object(n.jsx)("span",{className:"text-white",children:"Mis Posts"})})}),Object(n.jsx)(m.a,{children:Object(n.jsx)(v.GoogleLogout,{clientId:S.clientID,buttonText:"Logout",theme:"dark",onLogoutSuccess:e.onLogout})})]})})]})}var I=c(6),M=c.n(I),k=(c(33),c(97)),w=c(110),C=c(98),D=c(99),L=c(100),P=c(96),E=c(91),N=c(103),T=c(104),A=c(90),F=c(105),_=c(106),B=c(107),J=c(22),U=c(20),q=c(43),G=c.n(q).a.create({baseURL:S.baseURL_API});var K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function W(e){return R[e.getDay()]+", "+e.getDate()+" "+K[e.getMonth()]+" "+e.getFullYear()+", "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)}var z=c(92),H=c(93),Y=c(94),Q=c(95);function V(e){var t=Object(s.useState)(""),c=Object(o.a)(t,2),a=c[0],j=c[1],i=function(t){"OK"===t&&e.updateMyPosts()};return Object(n.jsx)("div",{children:Object(n.jsxs)(A.a,{body:!0,children:[Object(n.jsx)(E.a,{tag:"h5",children:"A\xf1adir un nuevo post"}),Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(Y.a,{for:"aMensaje",children:"Mensaje"}),Object(n.jsx)(Q.a,{style:{height:"200px"},type:"textarea",name:"message",value:a,id:"aMensaje",placeholder:"Introduce un mensaje",onChange:function(e){return j(e.target.value)}})]}),Object(n.jsx)(P.a,{color:"primary",onClick:function(e){e.preventDefault(),function(e,t,c,n){return G.post("/posts",{email:e,user:t,image:c,message:n}).then((function(e){return e.data}))}(sessionStorage.getItem("email"),sessionStorage.getItem("name"),sessionStorage.getItem("image"),a).then((function(e){return i(e)}))},children:"A\xf1adir"})]})]})})}function X(e){var t=Object(s.useState)(e.post.message),c=Object(o.a)(t,2),a=c[0],j=c[1],i=function(t){"OK"===t&&e.updateMyPosts()};return Object(s.useEffect)((function(){j(e.post.message)}),[e.post]),Object(n.jsx)("div",{children:Object(n.jsxs)(A.a,{body:!0,children:[Object(n.jsx)(E.a,{tag:"h5",children:"Editar post"}),Object(n.jsxs)(z.a,{children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)(Y.a,{for:"aDescripcion",children:"Mensaje"}),Object(n.jsx)(Q.a,{style:{height:"200px"},type:"textarea",name:"message",id:"aDescripcion",placeholder:"Introduce un mensaje",value:a,onChange:function(e){return j(e.target.value)}})]}),Object(n.jsx)(P.a,{color:"primary",onClick:function(t){t.preventDefault(),function(e,t){return G.put("/posts/"+e,{message:t}).then((function(e){return e.data}))}(e.post._id,a).then((function(e){return i(e)}))},children:"Actualizar"})]})]})})}function Z(e){var t=Object(s.useState)([]),c=Object(o.a)(t,2),a=c[0],j=c[1],i=Object(s.useState)(Object(n.jsx)(k.a,{color:"warning",children:"Seleccione editar un post de la lista"})),r=Object(o.a)(i,2),l=r[0],b=r[1],x=Object(s.useState)("1"),O=Object(o.a)(x,2),u=O[0],v=O[1],S=Object(s.useState)(null),y=Object(o.a)(S,2),I=y[0],q=y[1],K=function(){var e;(e=sessionStorage.getItem("email"),G.get("/posts/all/"+e).then((function(e){return e.data}))).then((function(e){j(e)}))},R=function(e){u!==e&&v(e)},z=function(){K()},H=function(e){var t;(t=e._id,G.delete("/posts/"+t).then((function(e){return e.data}))).then((function(e){return Y(e)}))},Y=function(e){"OK"===e&&(q(null),b(Object(n.jsx)(k.a,{color:"warning",children:"Seleccione editar un post de la lista"})),z())};return Object(s.useEffect)((function(){K()}),[]),Object(n.jsxs)("div",{children:[I,Object(n.jsxs)(d.a,{children:[Object(n.jsxs)(h.a,{xs:"7",children:[Object(n.jsx)(E.a,{tag:"center",children:Object(n.jsxs)(k.a,{color:"primary",children:[Object(n.jsx)("strong",{children:"Mis Posts publicados "}),Object(n.jsx)(N.a,{pill:!0,children:a.length})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)("tbody",{children:a.map((function(t,c){return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsxs)(F.a,{children:[Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{children:Object(n.jsxs)("strong",{children:[Object(n.jsx)("img",{src:t.image,alt:"Img"})," ",t.user]})}),Object(n.jsxs)(h.a,{align:"right",children:[Object(n.jsx)(P.a,{outline:!0,onClick:function(){return function(e){b(Object(n.jsx)(X,{post:e,updateMyPosts:z}))}(t)},children:Object(n.jsx)(p.b,{})})," ",Object(n.jsx)(P.a,{outline:!0,onClick:function(){return function(t){q(Object(n.jsxs)(w.a,{isOpen:"true",className:e.className,children:[Object(n.jsx)(C.a,{children:"Eliminar post"}),Object(n.jsxs)(D.a,{children:["Se va a eliminar el post:",Object(n.jsx)("br",{}),Object(n.jsx)("small",{children:Object(n.jsx)("strong",{children:t.message})})]}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(P.a,{color:"primary",onClick:function(){return H(t)},children:"Eliminar"})," ",Object(n.jsx)(P.a,{color:"secondary",onClick:function(){return q(null)},children:"Cancelar"})]})]}))}(t)},children:Object(n.jsx)(p.c,{})})]})]}),Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:t.message})}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{align:"left",xs:"8",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{xs:"2",children:Object(n.jsx)(U.a,{})}),Object(n.jsxs)(h.a,{xs:"2",children:[Object(n.jsx)(J.b,{}),Object(n.jsx)("small",{children:Math.floor(10*Math.random()+1)})]}),Object(n.jsxs)(h.a,{xs:"2",children:[Object(n.jsx)(J.a,{}),Object(n.jsx)("small",{children:Math.floor(100*Math.random()+1)})]}),Object(n.jsx)(h.a,{xs:"2",children:Object(n.jsx)(U.b,{})})]})}),Object(n.jsx)(h.a,{align:"right",children:Object(n.jsx)("small",{children:W(new Date(t.publicationdate))})})]})]})})})}),Object(n.jsx)("br",{})]})})}))})})]}),Object(n.jsxs)(h.a,{xs:"5",children:[Object(n.jsxs)(g.a,{tabs:!0,children:[Object(n.jsx)(m.a,{children:Object(n.jsx)(f.a,{href:"#",className:M()({active:"1"===u}),onClick:function(){return R("1")},children:"A\xf1adir"})}),Object(n.jsx)(m.a,{children:Object(n.jsx)(f.a,{href:"#",className:M()({active:"2"===u}),onClick:function(){return R("2")},children:"Editar"})})]}),Object(n.jsxs)(_.a,{activeTab:u,children:[Object(n.jsx)(B.a,{tabId:"1",children:Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{sm:"12",children:Object(n.jsx)(V,{updateMyPosts:z})})})}),Object(n.jsx)(B.a,{tabId:"2",children:Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{sm:"12",children:l})})})]})]})]})]})}c(78);function $(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],j=function(){G.get("/posts").then((function(e){return e.data})).then((function(e){a(e)}))},i=function(){document.getElementById("heart_button").classList.toggle("activado")};return Object(s.useEffect)((function(){j()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(E.a,{tag:"center",children:Object(n.jsxs)(k.a,{color:"primary",children:[Object(n.jsx)("strong",{children:"Posts publicados "}),Object(n.jsx)(N.a,{pill:!0,children:c.length})]})}),Object(n.jsx)(T.a,{children:Object(n.jsx)("tbody",{children:c.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:Object(n.jsxs)("strong",{children:[Object(n.jsx)("img",{src:e.image,alt:"Img"})," ",e.user]})})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:e.message})}),Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{align:"left",xs:"5",children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(h.a,{xs:"2",children:Object(n.jsx)(U.a,{})}),Object(n.jsxs)(h.a,{xs:"2",children:[Object(n.jsx)("div",{id:"heart_button",onClick:i}),Math.floor(10*Math.random()+1)]}),Object(n.jsxs)(h.a,{xs:"2",children:[Object(n.jsx)(J.a,{}),Object(n.jsx)("small",{children:Math.floor(100*Math.random()+1)})]}),Object(n.jsx)(h.a,{xs:"2",children:Object(n.jsx)(U.b,{})})]})}),Object(n.jsx)(h.a,{align:"right",children:Object(n.jsx)("small",{children:W(new Date(e.publicationdate))})})]})]})})})}),Object(n.jsx)("br",{})]})}))})})]})}var ee=c(109),te=(c(79),c.p+"static/media/icon.b080bea3.ico"),ce={maxWidth:"85px"};j.a.render(Object(n.jsx)(i.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(r.a,{exact:!0,path:"/",component:function(e){var t=Object(s.useState)(null),c=Object(o.a)(t,2),a=c[0],j=c[1];return Object(n.jsxs)(b.a,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:Object(n.jsxs)(x.a,{color:"primary",light:!0,expand:"md",children:[Object(n.jsx)(ee.a,{style:ce,object:!0,src:te,alt:"Bird"}),Object(n.jsx)(O.a,{children:Object(n.jsx)("span",{className:"app_title",children:" El Tuiter "})}),Object(n.jsx)(g.a,{navbar:!0,children:Object(n.jsxs)(m.a,{children:[a,Object(n.jsx)(v.GoogleLogin,{clientId:S.clientID,buttonText:"Login with Google",theme:"dark",onSuccess:function(t){var c=t.getBasicProfile();sessionStorage.setItem("name",c.getName()),sessionStorage.setItem("email",c.getEmail()),sessionStorage.setItem("image",c.getImageUrl()),e.history.push("/home")},onFailure:function(e){j(Object(n.jsx)(k.a,{color:"danger",children:"Inicio de sesi\xf3n incorrecto. Int\xe9ntelo de nuevo"}))}})]})})]})})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{xs:"12",children:Object(n.jsx)($,{})})})]})}}),Object(n.jsx)(r.a,{path:"/home",component:function(e){var t=Object(s.useState)(Object(n.jsx)($,{})),c=Object(o.a)(t,2),a=c[0],j=c[1];if(null!==sessionStorage.getItem("name"))return Object(n.jsxs)(b.a,{children:[Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{children:Object(n.jsx)(y,{onLogout:function(){sessionStorage.clear(),e.history.push("/")},onShow:function(e){1===e?j(Object(n.jsx)($,{})):2===e&&j(Object(n.jsx)(Z,{}))}})})}),Object(n.jsx)(d.a,{children:Object(n.jsx)(h.a,{xs:"12",children:a})})]});e.history.push("/")}})]})}),document.getElementById("root")),l()}},[[83,1,2]]]);
//# sourceMappingURL=main.2bd4b42d.chunk.js.map